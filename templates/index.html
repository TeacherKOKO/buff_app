<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>ãƒãƒ•è¨ˆç®—ãƒ„ãƒ¼ãƒ«</title>
    <style>
        body {
            background: linear-gradient(to bottom, #cce0ff, #ffffff);
            color: #333;
            font-family: sans-serif;
            position: relative;
            overflow: hidden;
        }
        .win { color: green; }
        .lose { color: red; }
        ul { list-style: none; padding: 0; }
        li { margin-bottom: 5px; }
        .snowflake {
            position: absolute;
            top: -10px;
            color: #fff;
            font-size: 1.2em;
            animation: fall linear infinite;
        }
        @keyframes fall {
            to {
                transform: translateY(100vh);
            }
        }
    </style>
</head>
<body>
    <h1>â„ï¸ ãƒãƒ•æ¯”è¼ƒè¨ˆç®—ãƒ„ãƒ¼ãƒ« â„ï¸</h1>

    <form method="post">
        <h2>å‘³æ–¹ã®å…µæ•°</h2>
        <ul>
            {% for i in range(9) %}
            <li>{{ unit_labels[i] }}: <input type="number" name="u{{ i+1 }}" min="0"></li>
            {% endfor %}
        </ul>

        <h2>æ•µã®å…µæ•°</h2>
        <ul>
            {% for i in range(9) %}
            <li>{{ unit_labels[i] }}: <input type="number" name="v{{ i+1 }}" min="0"></li>
            {% endfor %}
        </ul>

        <h2>å‘³æ–¹ãƒãƒ•</h2>
        <ul>
            {% for i in range(12) %}
            <li>{{ buff_labels[i] }}: <input type="number" step="0.1" name="{{ buff_vars[i] }}"></li>
            {% endfor %}
        </ul>

        <h2>æ•µãƒãƒ•</h2>
        <ul>
            {% for i in range(12) %}
            <li>{{ buff_labels[i] }}: <input type="number" step="0.1" name="{{ buff_vars[i+12] }}"></li>
            {% endfor %}
        </ul>

        <button type="submit">è¨ˆç®—ï¼</button>
    </form>

    {% if results %}
        <h2>ğŸ” çµæœ</h2>
        <p>å‘³æ–¹ç·è¨ˆ: <strong>{{ results.total_w | round(1) }}</strong></p>
        <p>æ•µç·è¨ˆ: <strong>{{ results.total_x | round(1) }}</strong></p>

        <ul>
            {% for i in range(36) %}
            <li class="{{ 'win' if results.w[i] > results.x[i] else 'lose' }}">
                å‘³æ–¹: {{ results.w[i]|round(1) }} vs æ•µ: {{ results.x[i]|round(1) }}
            </li>
            {% endfor %}
        </ul>

        <pre>{{ results.message }}</pre>
    {% endif %}

    <!-- é›ªã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ -->
    <script>
        for (let i = 0; i < 50; i++) {
            let snow = document.createElement("div");
            snow.className = "snowflake";
            snow.style.left = Math.random() * 100 + "vw";
            snow.style.animationDuration = 5 + Math.random() * 5 + "s";
            snow.style.opacity = Math.random();
            snow.textContent = "â„ï¸";
            document.body.appendChild(snow);
        }
    </script>
</body>
</html>